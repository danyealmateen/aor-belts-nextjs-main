(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3789)}])},3789:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Home}});var l=a(5893),n=a(7294),BeltSystem_BeltSystem=e=>{let{student:t,onBeltChange:a}=e,n=["Nyb\xf6rjare","Vitb\xe4lte","Vitb\xe4lte+1","Vitb\xe4lte+2","Gr\xe5vitb\xe4lte","Gr\xe5vitb\xe4lte+1","Gr\xe5vitb\xe4lte+2","Gr\xe5b\xe4lte","Gr\xe5b\xe4lte+1","Gr\xe5b\xe4lte+2","Gr\xe5svartb\xe4lte","Gr\xe5svartb\xe4lte+1","Gr\xe5svartb\xe4lte+2","Gulvitb\xe4lte","Gulvitb\xe4lte+1","Gulvitb\xe4lte+2","Gulb\xe4lte","Gulb\xe4lte+1","Gulb\xe4lte+2","Gulsvartb\xe4lte","Gulsvartb\xe4lte+1","Gulsvartb\xe4lte+2"];function increaseBelt(){let e=n.indexOf(t.belt);if(console.log("detta \xe4r currentindex:",e),e<n.length-1){let l={...t,belt:n[e+1],graduated:!0};a(l)}}function decreaseBelt(){let e=n.indexOf(t.belt);if(e>0){let l={...t,belt:n[e-1],graduated:!1};a(l)}}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h4",{children:["Namn: ",t.name]}),(0,l.jsxs)("h4",{children:["B\xe4lte: ",t.belt]}),(0,l.jsx)("button",{className:"asc-btn",onClick:increaseBelt,children:"Level-up"}),(0,l.jsx)("button",{className:"desc-btn",onClick:decreaseBelt,children:"Downgrade"})]})},DisplayData_DisplayData=function(){async function updateData(e){t(t=>t?t.map(t=>t._id===e._id?e:t):t);try{let t=await fetch("http://localhost:3000/api/students/".concat(e._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Network response was not ok");let a=await t.json();console.log("Data successfully updated:",a)}catch(e){console.error("Error updating student:",e)}}async function getData(){try{let e=await fetch("http://localhost:3000/api/show"),a=await e.json();t(a),console.log(a)}catch(e){console.log("Error fetching data",e)}}(0,n.useEffect)(()=>{getData()},[]);let[e,t]=(0,n.useState)(null);return(0,l.jsx)(l.Fragment,{children:e&&e.map(e=>(0,l.jsx)("div",{className:"kids-div ".concat(e.graduated&&!0===e.graduated?"graduated":!1===e.graduated),children:(0,l.jsx)(BeltSystem_BeltSystem,{student:e,onBeltChange:e=>updateData(e)})},e._id))})};function Home(){return(0,l.jsx)("div",{children:(0,l.jsx)(DisplayData_DisplayData,{})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);